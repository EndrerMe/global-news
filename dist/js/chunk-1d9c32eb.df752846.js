(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d9c32eb"],{"09d9":function(e,t,s){},"519b":function(e,t,s){},"69bf":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("paginate",{attrs:{"page-count":e.pageNumber,"initial-page":1,"page-range":3,"margin-pages":1,"click-handler":e.clickCallback,"container-class":"pagination-wrap","page-class":"page-number","active-class":"active","no-li-surround":!1}})],1)},r=[],n={props:["pageNumber"],name:"categoryPagination",methods:{clickCallback:function(e){this.$emit("changePage",e)}}},i=n,c=(s("78ab"),s("2877")),o=Object(c["a"])(i,a,r,!1,null,null,null);t["a"]=o.exports},"6e9a9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"search-panel-wrap"},[s("div",{staticClass:"container"},[s("div",{staticClass:"search-panel-content"},[s("div",{staticClass:"search-input-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{id:"search-results-input",placeholder:"search"},domProps:{value:e.searchValue},on:{input:[function(t){t.target.composing||(e.searchValue=t.target.value)},function(t){return e.searchBytitle(t)}]}}),s("label",{staticClass:"close-search-wrap",on:{click:function(t){return e.clearSearch()}}},[s("span",{staticClass:"close-search"})]),s("label",{staticClass:"search-icon-wrap",attrs:{for:"search-results-input"}},[s("font-awesome-icon",{staticClass:"fa-lg",attrs:{icon:"search"}})],1)])])]),s("div",{staticClass:"search-sort-wrap"},[e._m(0),s("div",{staticClass:"side"},[s("span",{on:{click:function(t){return e.toggleCategoryFilter()}}},[e._v("Category")])])])]),e.isShowMobileCategories?s("div",{staticClass:"mobile-bottom-menu-wrap"},[s("div",{staticClass:"container"},[s("div",{staticClass:"box-menu"},[s("b-nav",{staticClass:"bottom-category-menu"},[s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("all")}}},[e._v("All News")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("business")}}},[e._v("Business")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("entertainment")}}},[e._v("Entertainment")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("general")}}},[e._v("General")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("health")}}},[e._v("Health")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("science")}}},[e._v("Science")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("sport")}}},[e._v("Sport")])]),s("b-nav-item",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("technology")}}},[e._v("Technology")])])],1),s("b-nav",{staticClass:"bottom-sort-menu"},[s("b-nav-item",[s("span",[e._v("Newest")])]),s("b-nav-item",[s("span",[e._v("Most popular")])]),s("b-nav-item",[s("span",[e._v("Most relevant")])])],1)],1)])]):e._e(),s("div",{staticClass:"main-content-wrap container"},[s("div",{staticClass:"messages-wrap"},[e.isShowErrorMessage?s("div",{staticClass:"no-results-message-wrap"},[s("div",{staticClass:"no-results-message message-section"},[s("span",[e._v("Results for")]),s("span",{staticClass:"display-for-search"},[e._v(e._s(e.searchValue))]),s("span",[e._v("have not been found. Please try again.")])]),s("div",{staticClass:"no-results-by-category-message message-section"},[s("span",[e._v("Matches for")]),s("span",{staticClass:"display-for-search"},[e._v(e._s(e.searchValue))]),s("span",[e._v(" have not been found. Please, try to make another search request by using the next tips:")])]),e._m(1),e._m(2)]):e._e()]),e.isShowErrorMessage?e._e():s("div",{staticClass:"side-wrap"},[s("div",{staticClass:"side-menu-wrap"},[s("ul",{staticClass:"side-menu-sort"},[e._m(3),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.sortByFun("publishedAt")}}},[e._v("Date")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.sortByFun("popularity")}}},[e._v("Popularity")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.sortByFun("relevancy")}}},[e._v("Relevancy")])])]),e._m(4),s("ul",{staticClass:"side-menu-categories"},[e._m(5),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("business")}}},[e._v("Business")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("entertainment")}}},[e._v("Entertainment")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("general")}}},[e._v("General")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("health")}}},[e._v("Health")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("science")}}},[e._v("Science")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("sport")}}},[e._v("Sport")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.searchByCategoryFun("technology")}}},[e._v("Technology")])])])])]),s("div",{staticClass:"search-results-wrap"},[e.isShowErrorMessage?e._e():s("div",{staticClass:"display-results-wrap"},[s("span",[s("span",[e._v("Displaying results "+e._s(e.resultsCol.from)+"-"+e._s(e.resultsCol.to)+" out of "+e._s(e.totalRes)+" for")]),s("span",{staticClass:"display-for-search"},[e._v(e._s(e.resultsOf))])])]),s("div",{staticClass:"search-result"},e._l(e.searchRes,(function(e){return s("cardSearchResult",{key:e.title,attrs:{news:e}})})),1)])]),e._m(6),e.isShowErrorAfterFilters?e._e():s("div",[e.isShowErrorMessage?e._e():s("categoryPagination",{key:e.componentKey,attrs:{pageNumber:e.totalPages},on:{changePage:e.changePage}})],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"side"},[s("span",[e._v("All news")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-section"},[s("span",[e._v("Advice:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-section"},[s("ul",{staticClass:"advices-list"},[s("li",[e._v("Check if all words are spelled correctly.")]),s("li",[e._v("Try to change the keywords to synonyms.")]),s("li",[e._v("Try to use more general words.")]),s("li",[e._v("Try entering fewer keywords.")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-title-wrap"},[s("span",{staticClass:"title-text"},[e._v("Sort all news by")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"separator"},[s("span",[e._v("or")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-title-wrap"},[s("span",{staticClass:"title-text"},[e._v("Search across")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"more-results-wrap container"},[s("button",{staticClass:"more-results-button"},[e._v("More results")])])}],n=(s("a4d3"),s("e01a"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("ac1f"),s("841c"),s("159b"),s("96cf"),s("89ba")),i=s("2fa7"),c=s("2f62"),o=s("2ef0"),l=s.n(o),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("b-card",{staticClass:"mb-2 new-card"},[s("div",{staticClass:"image-wrap"},[s("div",{staticClass:"gradient"}),s("b-card-img",{attrs:{slot:"image",src:e.news.urlToImage},slot:"image"}),s("div",{staticClass:"gradient"}),s("div",{staticClass:"title-wrap"},[s("span",{staticClass:"title"},[s("p",[e._v(e._s(e.news.title))])])])],1),s("div",{staticClass:"text-wrap"},[s("b-card-text",[e._v(e._s(e.news.description))])],1),s("div",{staticClass:"card-footer"},[s("span",[e._v("left")]),s("span",[e._v("right")])])])],1)},h=[],g={props:["news"],name:"cardSearchResult"},f=g,p=(s("adfd"),s("2877")),v=Object(p["a"])(f,u,h,!1,null,"2d50bf3d",null),m=v.exports,y=s("69bf");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var C={name:"searchResult",components:{cardSearchResult:m,categoryPagination:y["a"]},data:function(){return{searchValue:"",resultsOf:"",searchRes:[],currentCategory:"all",totalRes:0,totalPages:0,currentPage:0,resultsCol:{from:1,to:10},isFirstPage:!1,isShowErrorMessage:!1,isShowPagination:!0,componentKey:0,isShowErrorAfterFilters:!1,isShowMobileCategories:!1}},mounted:function(){if(this.$route.params.news)0===this.$route.params.news.length?(this.isShowErrorMessage=!0,this.searchValue=this.$route.params.searchValue,localStorage.setItem("currentSearch",JSON.stringify({hasError:!0}))):this.$route.params.searchValue&&this.$route.params.totalRes&&(this.totalRes=this.$route.params.totalRes,this.searchValue=this.$route.params.searchValue,this.resultsCol.to=this.$route.params.news.length,this.searchRes=this.$route.params.news,this.totalPages=Math.ceil(this.totalRes/10),this.currentPage=1);else{var e=JSON.parse(localStorage.getItem("currentSearch"));e.hasError?(this.isShowErrorMessage=!0,this.searchValue=e.searchValue):(this.totalRes=e.totalRes,this.searchValue=e.searchValue,this.searchRes=e.news,this.resultsCol.to=e.news.length,this.totalPages=Math.ceil(this.totalRes/10),this.currentPage=1)}this.resultsOf=this.searchValue},methods:b({},Object(c["b"])(["search","searchByCategory","sortBy"]),{toggleCategoryFilter:function(){this.isShowMobileCategories=!this.isShowMobileCategories},clearSearch:function(){this.searchValue=""},changePage:function(e){var t=this;window.scrollTo(0,0),this.isFirstPage=!1,this.currentPage=e;var s={value:this.resultsOf,page:this.currentPage},a=this.search(s);a.then((function(s){for(var a=[],r=0;r<s.articles.length;r++)s.articles[r].urlToImage&&s.articles[r].title&&s.articles[r].description&&a.push(s.articles[r]);t.searchRes=a,t.resultsCol.to=10,t.resultsCol.to=t.resultsCol.to*e,t.resultsCol.from=t.resultsCol.to-9;var n={news:a,searchValue:t.searchValue};localStorage.setItem("currentSearch",JSON.stringify(n))}))},searchBytitle:l.a.debounce((function(e){var t=this;this.isShowPagination=!1,this.currentPage=1,this.searchValue=e.target.value,this.resultsOf=this.searchValue;var s=e.target.value;if(this.searchValue.length>0){var a={value:s,page:this.currentPage};this.search(a).then((function(e){if(e.articles.length>0){t.isFirstPage=!0;for(var a=[],r=null,n=0;n<e.articles.length;n++)e.articles[n].urlToImage&&e.articles[n].title&&e.articles[n].description&&(r=e.totalResults,a.push(e.articles[n]));t.searchRes=a,t.isShowErrorAfterFilters=!1,t.isShowErrorMessage=!1,t.resultsCol.to=a.length,t.resultsCol.from=1,t.totalPages=Math.ceil(r/10),t.totalRes=r;var i={news:a,searchValue:s,totalRes:r};t.componentKey+=1,localStorage.setItem("currentSearch",JSON.stringify(i))}else t.searchRes=[],t.isShowErrorMessage=!0,localStorage.setItem("currentSearch",JSON.stringify({hasError:!0,searchValue:t.searchValue}))}))}this.isShowPagination=!0}),1e3),sortByFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={page:1,value:this.searchValue},!(this.searchRes.length>0)){e.next=22;break}if("date"!==t){e.next=9;break}return s.sortBy="publishedAt",e.next=6,this.sortBy(s);case 6:a=e.sent,e.next=21;break;case 9:if("popularity"!==t){e.next=16;break}return s.sortBy="popularity",e.next=13,this.sortBy(s);case 13:a=e.sent,e.next=21;break;case 16:if("relevancy"!==t){e.next=21;break}return s.sortBy="relevancy",e.next=20,this.sortBy(s);case 20:a=e.sent;case 21:console.log(a);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),searchByCategoryFun:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,a,r,n,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=[],a=[],t===this.currentCategory){e.next=30;break}if("all"===t){e.next=10;break}return n={category:t,page:1,keyWord:this.searchValue},e.next=7,this.searchByCategory(n);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,this.search({value:this.searchValue});case 12:r=e.sent;case 13:if(a=r.data,!a.articles){e.next=26;break}this.isShowErrorAfterFilters=!1,i=0;case 17:if(!(i<a.articles.length)){e.next=26;break}if(!(a.articles[i].urlToImage&&a.articles[i].title&&a.articles[i].description)){e.next=22;break}s.push(a.articles[i]),e.next=23;break;case 22:return e.abrupt("continue",23);case 23:i++,e.next=17;break;case 26:this.searchRes=s,this.currentCategory=t,c={news:s,searchValue:this.searchValue},localStorage.setItem("currentSearch",JSON.stringify(c));case 30:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},w=C,_=(s("9d0b"),Object(p["a"])(w,a,r,!1,null,"bf4787b8",null));t["default"]=_.exports},"78ab":function(e,t,s){"use strict";var a=s("09d9"),r=s.n(a);r.a},"8d21":function(e,t,s){},"9d0b":function(e,t,s){"use strict";var a=s("8d21"),r=s.n(a);r.a},adfd:function(e,t,s){"use strict";var a=s("519b"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-1d9c32eb.df752846.js.map